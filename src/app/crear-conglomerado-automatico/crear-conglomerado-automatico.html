<app-navbar></app-navbar>

<div class="form-wrapper">
  <div class="form-card">
    
    <h1>锔 Crear Conglomerado Autom谩tico</h1>
    <p>Define la cantidad y la regi贸n para la generaci贸n autom谩tica.</p>

    <form (ngSubmit)="generarConglomerados()" class="generar-form">
      
      <div class="form-group">
        <label for="cantidad">Cantidad a Crear</label>
        <input 
          type="number" 
          id="cantidad" 
          placeholder="Ej: 50"
          [(ngModel)]="cantidad"
          name="cantidad"
          min="1"
          required>
      </div>

      <div class="form-group">
        <label for="region">Regi贸n</label>
        <select 
          id="region" 
          [(ngModel)]="region"
          name="region"
          required
          [class.invalid]="!region"> <option value="" disabled>-- Selecciona una regi贸n --</option>
          
          <option *ngFor="let depto of listaDepartamentos" [value]="depto">
            {{ depto }}
          </option>
        </select>
      </div>

      <div *ngIf="mensajeExito" class="mensaje exito">
        {{ mensajeExito }}
      </div>
      <div *ngIf="mensajeError" class="mensaje error">
        {{ mensajeError }}
      </div>

      <button 
        type="submit" 
        class="btn-submit"
        [disabled]="!cantidad || cantidad <= 0 || !region || cargando">
        
        <span *ngIf="!cargando"> Generar Conglomerados</span>
        <span *ngIf="cargando" class="spinner"></span>
        <span *ngIf="cargando">Generando...</span>
      </button>
    </form>
  </div>
</div>