<nav class="navbar" *ngIf="usuario">
  <div class="nav-container">
    <!-- LOGO -->
    <a routerLink="/inicio" class="logo" (click)="closeMenu()">
      <img src="/imagenes/LogoNav.png" alt="Logo Inventario Forestal" />
      <span class="logo-text">Inventario Forestal</span>
    </a>

    <!-- HAMBURGER -->
    <button
      class="hamburger"
      (click)="toggleMenu()"
      [class.active]="isMenuOpen"
      aria-label="MenÃº"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- MENÃš PRINCIPAL -->
    <ul class="nav-links" [class.active]="isMenuOpen">
      
      <!-- === USUARIOS (solo administrador) === -->
      <li class="dropdown" *ngIf="esAdmin()">
        <button class="dropbtn" (click)="toggleDropdown('usuarios')">
          Usuarios â–¼
        </button>
        <div class="dropdown-content" [class.show]="activeDropdown === 'usuarios'">
          <a routerLink="/crear-usuario" (click)="closeMenu()">Crear usuario</a>
          <a routerLink="/eliminar-usuario" (click)="closeMenu()">Gestionar usuarios</a>
        </div>
      </li>

      <!-- === BRIGADAS (admin y jefe de brigada) === -->
      <li class="dropdown" *ngIf="esAdmin() || esJefe()">
        <button class="dropbtn" (click)="toggleDropdown('brigadas')">
          Brigadas â–¼
        </button>
        <div class="dropdown-content" [class.show]="activeDropdown === 'brigadas'">
          <a *ngIf="esAdmin()" routerLink="/crear-brigada" (click)="closeMenu()">Crear brigada</a>
          <a *ngIf="esJefe()" routerLink="/asignar-conglomerado" (click)="closeMenu()">Asignar conglomerado</a>
          <a routerLink="/listar-brigadas" (click)="closeMenu()">Listar brigadas</a>
        </div>
      </li>

      <!-- === CONGLOMERADOS (solo admin) === -->
      <li class="dropdown" *ngIf="esAdmin()">
        <button class="dropbtn" (click)="toggleDropdown('conglomerados')">
          Conglomerados â–¼
        </button>
        <div class="dropdown-content" [class.show]="activeDropdown === 'conglomerados'">
          <a routerLink="/crear-conglomerado-manual" (click)="closeMenu()">Crear manual</a>
          <a routerLink="/crear-conglomerado-automatico" (click)="closeMenu()">Crear automÃ¡tico</a>
          <a routerLink="/listar-conglomerados" (click)="closeMenu()">Listar conglomerados</a>
          <a routerLink="/listar-subparcelas" (click)="closeMenu()">Listar subparcelas</a>
        </div>
      </li>
    </ul>

    <!-- INFO DEL USUARIO -->
    <div class="user-info">
      <span>ðŸ‘¤ {{ usuario.nombre }} ({{ usuario.rol }})</span>
      <button (click)="logout()">Cerrar sesiÃ³n</button>
    </div>
  </div>
</nav>