<app-navbar></app-navbar>

<div class="main-container">
  <div class="card-content">
    <div class="card-header">
      <h2 class="card-title">
        <span class="icon">ğŸ§‘â€ğŸ¤â€ğŸ§‘</span> Registro de Brigada
      </h2>
      <p>Completa el formulario para registrar una nueva brigada y asignarle sus miembros.</p>
    </div>

    <form [formGroup]="brigadaForm" (ngSubmit)="onSubmit()" class="brigada-form">

      <div class="form-group">
        <label for="departamento">Departamento</label>
        <select id="departamento" formControlName="departamento">
          <option value="" disabled selected>Seleccione un departamento</option>
          <option *ngFor="let d of departamentos" [value]="d">{{ d }}</option>
        </select>
        <div *ngIf="brigadaForm.get('departamento')?.invalid && brigadaForm.get('departamento')?.touched" class="error-message">
          Debe seleccionar un departamento.
        </div>
      </div>

      <div class="form-group">
        <label for="lider">LÃ­der de Brigada</label>
        <select id="lider" formControlName="lider">
          <option value="" disabled selected>Seleccione un lÃ­der</option>
          <option *ngFor="let l of lideres" [value]="l.id_usuario">
            {{ l.nombre }} {{ l.apellido }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label for="conglomerado">Conglomerado Asignado</label>
        <select id="conglomerado" formControlName="id_conglomerado">
          <option value="" disabled selected>Seleccione un conglomerado</option>
          <option *ngFor="let c of conglomerados" [value]="c.id_conglomerado">{{ c.codigo }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="fecha">Fecha de AsignaciÃ³n</label>
        <input id="fecha" type="date" formControlName="fecha_asignacion" readonly>
      </div>

      <button type="submit" [disabled]="brigadaForm.invalid" class="btn-primary">
        ğŸ’¾ Guardar Brigada
      </button>
    </form>
  </div>
</div>